<link rel="import" href="/bower/polymer/polymer.html">
<link rel="import" href="/bower/neon-animation/neon-animation-runner-behavior.html">
<link rel="import" href="/assets/elements/polymer-flip.html">

<dom-module id="deck-element">
  <template>
    <style>
      :host {
        height: 200px;
        width: 135px;
        margin: 5px;
        display: inline-block;
        position: relative;
      }
      card-element {
        top: 0;
        left: 0;
        position: absolute;
      }
    </style>

    <template is="dom-repeat" items="[[cards]]">
      <card-element faceup="{{item.faceup}}"
                    front="{{item.front}}"
                    back="{{item.back}}">
      </card-element>
    </template>
  </template>

  <script>
    Polymer({
      is: "deck-element",
      properties: {
        cards: {
          type: Array,
          value: [],
          notify: true
        }
      },
      ready: function() {
        this.cards = [];
      },
      add: function(item) {
        this.unshift('cards', item);
      },
      clear: function() {
        this.splice('cards', 0, this.cards.length);
      },
      showCards: function(value, numcards) {
        switch(value) {
          case 1:
            val = parseInt(numcards) <= 1;
            break;
          case 2:
            val = parseInt(numcards) > 1 && parseInt(numcards) <= 5;
            break;
          case 3:
            val = parseInt(numcards) > 10 && parseInt(numcards) <= 20;
            break;
          case 4:
            val = parseInt(numcards) > 20;
        }
        return val;
      }
    });
  </script>
</dom-module>
